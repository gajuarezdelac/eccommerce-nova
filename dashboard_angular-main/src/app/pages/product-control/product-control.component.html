<nz-spin [nzSpinning]="isLoadingGeneral">

  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a data-abc="true">
            <i class="fa fa-home"></i>
        </a>
    </li>
      <li class="breadcrumb-item"> Administración </li>
      <li class="breadcrumb-item active" aria-current="page"> Inventario </li>
    </ol>
  </nav>
  
  <form
  nz-form
  [nzLayout]="'vertical'"
  [formGroup]="validateForm" 
  class="login-form" 
  (ngSubmit)="submitForm()"
  >  

    <div nz-row [nzGutter]="24">
      <div nz-col class="gutter-row" [nzSpan]="6"><div class="inner-box">
        <nz-form-item class="input-content" > 
          <label>Cod. Producto </label>
          <nz-form-control nzErrorTip="Campo requerido">
            <nz-input-group nzPrefixIcon="container">
              <input type="text" nz-input formControlName="codeProd" placeholder="Escribe el codigo del producto..." />
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
      </div></div>

      <div nz-col class="gutter-row"  [nzSpan]="6"><div class="inner-box">            
        <nz-form-item class="input-content" > 
          <label>Description </label>
          <nz-form-control nzErrorTip="Campo requerido">
            <nz-input-group nzPrefixIcon="container">
              <input type="text" nz-input formControlName="description" placeholder="Escribe la descripción... " />
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
      </div></div>
      
      <div nz-col class="gutter-row" [nzSpan]="6"><div class="inner-box">            
        <nz-form-item class="input-content" > 
          <label>Nombre </label>
          <nz-form-control nzErrorTip="Campo requerido">
            <nz-input-group nzPrefixIcon="audit">
              <input type="text" nz-input formControlName="name" placeholder="Escribe el nombre del producto..." />
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
      </div></div>


      
      <div nz-col class="gutter-row" [nzSpan]="6"><div class="inner-box">            
        <nz-form-item class="input-content" > 
          <label>Categoria </label>
          <nz-form-control nzErrorTip="Campo requerido">
            <nz-input-group nzPrefixIcon="apartment">
              <input type="text" nz-input formControlName="category" placeholder="Escribe la categoria.." />
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
      </div></div>

        </div>
      
          <div nz-row [nzGutter]="8">
            <div nz-col class="gutter-row" align="left"  [nzSpan]="12"><div class="inner-box">            
              <nz-space>
                <a *nzSpaceItem class="btn btn-success" (click)="generateExcel()" ><i class="fas fa-file-excel"></i>  Generar </a>
                <a *nzSpaceItem class="btn btn-primary" (click)="openCreateDrawer()" > <i class="fas fa-plus"></i> Nuevo producto </a>  
              </nz-space>
    
            </div></div>

            <div nz-col class="gutter-row" align="right"  [nzSpan]="12"><div class="inner-box">            
              <button class="btn btn-primary"> <i class="fas fa-search"></i>  Realizar busqueda </button>
              </div></div>
           </div>

        </form>   
    
          <br >

            <!-- Table -->
        
        
          <nz-table  
          #fixedTable
          #headerTable
          [nzData]="data"
          [nzScroll]="{ y: '240px' }"
          nzShowPagination
          [nzPageSizeOptions]="[10, 20, 30]"
          nzShowSizeChanger
          [nzPageSize]="pageSize"
          [nzPageIndex]="current"
          [nzFrontPagination]="false"
          [nzTotal]="total"
          [nzLoading]="isLoadingTable"
          (nzPageSizeChange)="changePageSize($event)"
          (nzPageIndexChange)="changeCurrentPage($event)"
          >
          <thead>
            <tr>
              <th>Cod. Producto </th>
              <th>Nombre </th>
              <th>Cant</th>
              <th>Talla</th>
              <th>Precio</th>
              <th nzRight nzAlign="center" nzWidth="140px">Acciones</th>
            </tr>
          </thead>
            
          <tbody>
            <tr *ngFor="let data of headerTable.data">
              <td>{{ data.code }}</td>
              <td>{{ data.name }}</td>
              <td>{{ data.cantd }}</td>
              <td>{{ data.size }}</td>
              <td>${{ data.price }}</td>
              <td nzRight nzAlign="center">
                <nz-space>
                  <button nz-button nzShape="circle" nzType="text">
                    <i nz-icon nzTheme="twotone" (click)="openViewDrawer(data)" [nzTwotoneColor]="'#08a000'" nzType="eye"></i>
                  </button>
                  
                  <button nz-button nzShape="circle" nzType="text">
                    <i nz-icon nzTheme="twotone"  (click)="openEditDrawer(data)" [nzTwotoneColor]="'#a31600'" nzType="edit"></i>
                  </button>

                  <button nz-button nzShape="circle" nzType="text">
                    <i nz-icon nzTheme="twotone"  (click)="showDeleteConfirm(data)"  [nzTwotoneColor]="'#a31600'" nzType="delete"></i>
                  </button>
                </nz-space>
              </td>
        
            </tr>
          </tbody>
          </nz-table>
</nz-spin>


    <!-- View drawer -->

    <nz-drawer
    [nzWidth]="540"
    [nzClosable]="false"
    [nzVisible]="visibleDrawer"
    nzPlacement="right"
    nzTitle="Producto #20203"
    (nzOnClose)="closeViewDrawer()"
  >
    <ng-container *nzDrawerContent>
     <nz-spin [nzSpinning]="isLoadingDrawer">
    
      <nz-tabset>
        <nz-tab [nzTitle]="titleTemplate1">
          <ng-template #titleTemplate1>
            <i nz-icon [nzType]="'android'"></i>
            Nombre del tab 1
          </ng-template>
          Nombre del tab 1
        </nz-tab>
  
  
        <nz-tab [nzTitle]="titleTemplate2">
          <ng-template #titleTemplate2>
            <i nz-icon [nzType]="'android'"></i>
            Nombre del tab 2
          </ng-template>
          Nombre del tab 2
        </nz-tab>
  
  
        <nz-tab [nzTitle]="titleTemplate3">
          <ng-template #titleTemplate3>
            <i nz-icon [nzType]="'android'"></i>
            Nombre del tab 3
          </ng-template>
          Nombre del tab 3
        </nz-tab>
  
  
  
  
      </nz-tabset>
  
    
  
     </nz-spin>
    </ng-container>
  </nz-drawer>


  <!-- Edit drawer -->
 
  
  <nz-drawer
  [nzWidth]="540"
  [nzClosable]="false"
  [nzVisible]="visibleEditDrawer"
  nzPlacement="right"
  nzTitle="Editar producto #39393"
  (nzOnClose)="closeEditDrawer()"
>
  <ng-container *nzDrawerContent>
   <nz-spin [nzSpinning]="isLoadingDrawer">
  
    <nz-tabset>
      <nz-tab [nzTitle]="titleTemplate1">
        <ng-template #titleTemplate1>
          <i nz-icon [nzType]="'android'"></i>
          Nombre del tab 1
        </ng-template>
        Nombre del tab 1
      </nz-tab>


      <nz-tab [nzTitle]="titleTemplate2">
        <ng-template #titleTemplate2>
          <i nz-icon [nzType]="'android'"></i>
          Nombre del tab 2
        </ng-template>
        Nombre del tab 2
      </nz-tab>


      <nz-tab [nzTitle]="titleTemplate3">
        <ng-template #titleTemplate3>
          <i nz-icon [nzType]="'android'"></i>
          Nombre del tab 3
        </ng-template>
        Nombre del tab 3
      </nz-tab>




    </nz-tabset>

   </nz-spin>
  </ng-container>
</nz-drawer>

<!-- create producto modal -->



<nz-drawer
[nzBodyStyle]="{ overflow: 'auto' }"
[nzMaskClosable]="false"
[nzWidth]="720"
[nzVisible]="visibleCreateDrawer"
nzTitle="Crear nuevo usuario"
[nzFooter]="footerTpl"
(nzOnClose)="closeCreateDrawer()"
>

<form 
nz-form 
*nzDrawerContent
[nzLayout]="'vertical'"
class="login-form" 
>
  <div nz-row [nzGutter]="8">
    <div nz-col nzSpan="12">
      <nz-form-item>
        <nz-form-label>Name</nz-form-label>
        <nz-form-control>
          <input nz-input placeholder="please enter user name" />
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col nzSpan="12">
      <nz-form-item>
        <nz-form-label>Name</nz-form-label>
        <nz-form-control>
          <input nz-input placeholder="please enter user name" />
        </nz-form-control>
      </nz-form-item>
    </div>
  </div>

  <div nz-row [nzGutter]="8">
    <div nz-col nzSpan="12">
      <nz-form-item>
        <nz-form-label>Name</nz-form-label>
        <nz-form-control>
          <input nz-input placeholder="please enter user name" />
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col nzSpan="12">
      <nz-form-item>
        <nz-form-label>Name</nz-form-label>
        <nz-form-control>
          <input nz-input placeholder="please enter user name" />
        </nz-form-control>
      </nz-form-item>
    </div>
  </div>

  <div nz-row [nzGutter]="8">
    <div nz-col nzSpan="12">
      <nz-form-item>
        <nz-form-label>Name</nz-form-label>
        <nz-form-control>
          <input nz-input placeholder="please enter user name" />
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col nzSpan="12">
      <nz-form-item>
        <nz-form-label>Name</nz-form-label>
        <nz-form-control>
          <input nz-input placeholder="please enter user name" />
        </nz-form-control>
      </nz-form-item>
    </div>
  </div>

  <div nz-row [nzGutter]="8">
    <div nz-col nzSpan="24">
      <nz-form-item>
        <nz-form-label>Description</nz-form-label>
        <nz-form-control>
          <textarea
            nz-input
            placeholder="please enter url description"
            [nzAutosize]="{ minRows: 4, maxRows: 4 }"
          ></textarea>
        </nz-form-control>
      </nz-form-item>
    </div>
  </div>
</form>

<ng-template #footerTpl>
  <div style="float: right">
    <button nz-button style="margin-right: 8px;" (click)="closeCreateDrawer()">Cancel</button>
    <button nz-button nzType="primary" (click)="closeCreateDrawer()">Submit</button>
  </div>
</ng-template>
</nz-drawer>



